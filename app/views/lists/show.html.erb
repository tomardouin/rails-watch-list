<div style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @list.photo.key, height: 800, crop: :fill %>')">
    <h1 class='text-center'> List of films in <%= @list.name %> </h1>
</div>
<div class='container pt-5'>
    <ul class='d-flex align-items-center'>
        <% @list.movies.each do |film| %>
        <% bookmark = Bookmark.find_by(list: @list, movie: film) %>
            <li class='card m-3 p-3 text-center'>
                <h2> <%= film.title %> </h2>
                <p> <%= film.overview%> <p>
                <%= image_tag film.poster_url, width: 200 %>
                <div class='d-flex justify-content-between'>
                    <p> <%= film.rating %> <i class="fa-solid fa-star"></i> </p>
                    <%= link_to "Delete", bookmark_path(bookmark), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class:'btn btn-danger text-white rounded'%>
                </div>
            </li>
        <% end %>
    </ul>
    <%= link_to "Add a bookmark", new_list_bookmark_path(@list), class:"btn btn-primary rounded shadow me-3" %> | <%= link_to "Back to lists", lists_path, class:"btn btn-primary rounded shadow ms-3" %>
</div>